########################################
# Hyprland Config - Clean Starter Setup
########################################

# -------------------------------
# Monitor configuration
# -------------------------------
monitor=eDP-1,3840x2160@60.00,0x0,2.00
monitor=HDMI-A-1,3840x2160@239.99,1920x32,1.50

# -------------------------------
# Input
# -------------------------------
input {
    kb_layout = gb
}

# -------------------------------
# Autostarts
# -------------------------------
exec-once = bash -c "wl-paste --watch cliphist store &"
# If you enabled the systemd user service for hyprpolkitagent, you can comment this:
exec-once = /usr/bin/hyprpolkitagent
exec-once = hyprpaper &
exec-once = hyprmon &
exec-once = waybar &
exec-once = swaync &
exec-once = ~/.config/swaync/scripts/swaync-greeting.sh &

# -------------------------------
# Window rules / appearance
# -------------------------------
general {
    gaps_in = 8
    gaps_out = 20
    border_size = 2

    col.active_border = rgba(89b4faee) rgba(b4befeee) 45deg
    col.inactive_border = rgba(595959aa)
}

decoration {
    rounding = 8

    blur {
        enabled            = yes
        size               = 8        # smaller kernel = less blocky
        passes             = 4        # more passes = smoother

        ignore_opacity     = true
        new_optimizations  = true
        xray               = false

        brightness         = 0.90
        contrast           = 0.92
        noise              = 0.015
        vibrancy           = 0.15
        vibrancy_darkness  = 0.50
    }

    shadow {
        enabled      = true
        range        = 20
        render_power = 2
        color        = rgba(0,0,0,0.35)
    }
}

animations {
    enabled = yes
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

# -------------------------------
# SwayNC layer polish (blur + glass strength)
# -------------------------------
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window

# Control center: stronger glass (less background bleed)
layerrule = ignorealpha 0.08, swaync-control-center

# Popups: slightly lighter to avoid looking too “thick”
layerrule = ignorealpha 0.12, swaync-notification-window

# Small stability/feel tweaks
layerrule = noanim, swaync-control-center
layerrule = noanim, swaync-notification-window
# (removed invalid 'norenderoff')

# If popups still feel too foggy, you can disable their blur entirely:
# layerrule = noblur, swaync-notification-window

# -------------------------------
# Keybinds
# -------------------------------
bind = SUPER, RETURN, exec, alacritty
bind = SUPER, Q, killactive
bind = SUPER, SHIFT_R, exec, hyprctl reload
bind = SUPER, SHIFT_Q, exec, hyprctl dispatch exit

# SwayNC toggle
bind = SUPER, N, exec, swaync-client -t

# App launcher
bind = SUPER, SPACE, exec, wofi --show drun

# Focus navigation
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d

# Move windows
bind = SUPER SHIFT, left,  movewindow, l
bind = SUPER SHIFT, right, movewindow, r
bind = SUPER SHIFT, up,    movewindow, u
bind = SUPER SHIFT, down,  movewindow, d

# Workspaces (1–9)
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9

# Move to workspace
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9

# Window controls
bind = SUPER, V, togglefloating
bind = SUPER, F, fullscreen

# Preselect tiling direction
bind = SUPER, H, layoutmsg, preselect l
bind = SUPER, L, layoutmsg, preselect r
bind = SUPER, K, layoutmsg, preselect u
bind = SUPER, J, layoutmsg, preselect d

# Mouse actions
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# Multimedia keys
bindle = , XF86AudioRaiseVolume, exec, pamixer -i 5
bindle = , XF86AudioLowerVolume, exec, pamixer -d 5
bindle = , XF86AudioMute, exec, pamixer -t
bindle = , XF86MonBrightnessUp, exec, brightnessctl set +5%
bindle = , XF86MonBrightnessDown, exec, brightnessctl set 5%-
bind = , XF86KbdBrightnessUp,   exec, brightnessctl -d tpacpi::kbd_backlight set +1
bind = , XF86KbdBrightnessDown, exec, brightnessctl -d tpacpi::kbd_backlight set 0

# Alt-tab style switching
bind = SUPER, TAB, focuswindow, recent

# Screenshots
bind = , Print,       exec, hyprshot -m output -o ~/Pictures/Screenshots
bind = SHIFT, Print,  exec, hyprshot -m region -o ~/Pictures/Screenshots
bind = SUPER, Print,  exec, hyprshot -m window -o ~/Pictures/Screenshots

# Clipboard variants (optional)
# bind = , Print,      exec, hyprshot -m output -c
# bind = SHIFT, Print, exec, hyprshot -m region -c
# bind = SUPER, Print, exec, hyprshot -m window -c

